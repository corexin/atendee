    <!DOCTYPE html>
<html lang="zh" xml:lang="zh">
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    </head>
<body>

<div ng-app="myApp" ng-controller="myCtrl">
<div class="container">
        <div class="row">
         <div class="col-md-5">
            <h2>Paste attendees</h2>
        </div>
     </div>
 
    <div class="row">
         <div class="col-sm-5">
        <textarea  rows='11' cols="50" ng-model="attendees"  ng-change="change()"> </textarea><br/>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <h2>Full list</h2>
        </div>
        <div class="col-md-4">
            <h2>Attendee Index list</h2>
        </div>
        <div class="col-md-4">
            <h2>Index Only list</h2>
        </div>

    </div>
    <div class="row">
        <div class="col-md-4">
            <ol>
              <li ng-repeat="one in all">{{one}}</li>
            </ol>
        </div>
       <div class="col-md-4">

            <ol>
              <li ng-repeat="one1 in allOut track by $index" >{{one1}}</li>
            </ol>
        </div>
        <div class="col-sm-4">
            <textarea id="textarea" rows='27' cols="20" ng-model="result" > </textarea>
            <button ng-click="copy()"  class="align-top">Copy</button>
        </div>
    </div>
    

</div>
    
    <script>
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope) {
    $scope.all=  ['George','Guillaume -è·¯è¿‡èœ»èœ“','å¯æ—¥æ˜Ÿå›yao','å†¯å† ç¾¤','æµ©å®‡','Ray','zhao qian','è¶…','åžæ´‹','ðŸ…° WANG','Lawrence','è°¢å®¶çš„å¤§å°‘çˆ·','éº’äº‘John','Xavier','Ericå¼µå»£å®‡ @ MG BNE Â²â°Â¹â¸','Kevin Hwa','Patrick è¶…','JACOB.HAO','SECON','Pak Hin','david@æ¾³æ´²é»„é‡‘æµ·å²¸åœ°äº§','Ewan','Max','Jupiter GU','Anthony','Meng','Jun','è‘£ä¸–èŽ¹ Sam',
       'JM','å¢æ™¯æ˜‡(æ–°ç§€ä¸½)','Aaron åŒé¾™ä¸€å‡¤ ç»§ç»­æˆçŒª'];
    

    $scope.change = function() {

        var allCopy =$scope.all.slice(); 
        let allOut1=new Array($scope.all.slice().length);    
        var output = new Array(allCopy.length);
        var found = new Array(allCopy.length);
        var notFound = new Array();
 
        var attends = $scope.attendees.split(/\r?\n/);
  
        $scope.all.forEach((item,index)=>{
            
            var result = isInAttendList(item);
 
            if(result)
            {
                allOut1[index] = item;
                
            }
            else {
                
               allOut1[index]= "";
            }

        });
 
        $scope.allOut=new Array();
        allOut1.forEach((item, index)=>{
          $scope.allOut.push(item);
        });
 
       
        $scope.attendees.split(/\r?\n/).forEach((item, index) =>{
                var itemCleaned = item.replace(/^\d+\.?/,"").trim();

                var idx = allCopy.indexOf(itemCleaned);
                if(idx>=0)
                {
 
                    found[idx]=itemCleaned;
                    output[idx]="1";
                }
                else {
                    found[idx] = "1";
                    notFound.push(itemCleaned);
                }
            });
         
        if(notFound.length>0)
        {
            output.push("Cannot find the following:");
            output.push(notFound.join("\n"));
        }
        
        $scope.result="";
        $scope.result=output.join("\n");

      };
     $scope.copy = function() {

          let textarea = document.getElementById("textarea");
          textarea.select();
          document.execCommand("copy");
    }
    
    function isInAttendList(item)
    {
        var attendeeList = getCleanedList($scope.attendees.split(/\r?\n/));
        return attendeeList.includes(item);
    }
    
    function getCleanedList(list)
    { 
        var result = new Array();
        for(var i=0;i<list.length;i++)
        {
            var item = list[i];
            var itemCleaned = item.replace(/^\d+\.?/,"").trim();
            
            result.push(itemCleaned);
        }
        return result;
    }
    
});
</script>
</body>
</html>