<!DOCTYPE html>
<html lang="zh" xml:lang="zh">
    <head>
        <meta charset="utf-8"/>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    </head>
<body>

<div ng-app="myApp" ng-controller="myCtrl">

    <h2>Full list</h2>
    <ul>
      <li ng-repeat="one in all">{{one}}</li>
    </ul>
    
    <h2>Paste attendees</h2>
    <textarea  rows='11' cols="30" ng-model="attendees"  ng-change="change()"> </textarea><br/>

     <h2>Generated list</h2>
    
     <textarea  rows='11' cols="30" ng-model="result" > </textarea><br/>

    
    <script>
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope) {
    $scope.all=  ['George','Guillaume -è·¯è¿‡èœ»èœ“','Jun','å¯æ—¥æ˜Ÿå›yao','å†¯å† ç¾¤','æµ©å®‡','Ray','èµµéªž','è¶…','åžæ´‹','ðŸ…° WANG','Lawrence','è°¢å®¶çš„å¤§çˆ·','éº’äº‘John','Xavier','Meng','Ericå¼µå»£å®‡ @ MG BNE Â²â°Â¹â¸','Kevin Hwa','Patrick è¶…','JACOB.HAO','SECON','Pak Hin','david@æ¾³æ´²é»„é‡‘æµ·å²¸åœ°äº§','Ewan','Max','Jupiter GU','Anthony'];
    
    $scope.change = function() {
        var allCopy =$scope.all.slice(); 
        
        var output = new Array(allCopy.length);
        var notFound = new Array();
 
            $scope.attendees.split(/\r?\n/).forEach((item, index) =>{
                var itemCleaned = item.replace(/^\d+\.?/,"").trim();
                console.log(itemCleaned);
                var idx = allCopy.indexOf(itemCleaned);
                if(idx>=0)
                {
                    output[idx]=itemCleaned;
                }
                else {
                       notFound.push(itemCleaned);
                }
            });
         
        if(notFound.length>0)
        {
            output.push("Cannot find the following:");
            output.push(notFound.join("\n"));
        }
        
        $scope.result="";
        $scope.result=output.join("\n");
      };
    
});
</script>
</body>
</html>