<!DOCTYPE html>
<html lang="zh" xml:lang="zh">
    <head>
        <meta charset="utf-8"/>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    </head>
<body>

<div ng-app="myApp" ng-controller="myCtrl">

    <h2>Full list</h2>
    <ul>
      <li ng-repeat="one in all">{{one}}</li>
    </ul>
    
    <h2>Paste attendees</h2>
    <textarea  rows='11' cols="30" ng-model="attendees"  ng-change="change()"> </textarea><br/>

     <h2>Generated list</h2>
    
     <textarea  rows='11' cols="30" ng-model="result" > </textarea><br/>

    
    <script>
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope) {
    $scope.all=  ['George','Guillaume -路过蜻蜓','Jun','卯日星君yao','冯冠群','浩宇','Ray','赵骞','超','卞洋','🅰 WANG','Lawrence','谢家的大爷','麒云John','Xavier','Meng','Eric張廣宇 @ MG BNE ²⁰¹⁸','Kevin Hwa','Patrick 超','JACOB.HAO','SECON','Pak Hin','david@澳洲黄金海岸地产','Ewan','Max','Jupiter GU','Anthony'];
    
    $scope.change = function() {
        var allCopy =$scope.all.slice(); 
        
        var output = new Array(allCopy.length);
        var notFound = new Array();
 
            $scope.attendees.split(/\r?\n/).forEach((item, index) =>{
                var itemCleaned = item.replace(/^\d+\.?/,"").trim();
                console.log(itemCleaned);
                var idx = allCopy.indexOf(itemCleaned);
                if(idx>=0)
                {
                    output[idx]=itemCleaned;
                }
                else {
                       notFound.push(itemCleaned);
                }
            });
         
        if(notFound.length>0)
        {
            output.push("Cannot find the following:");
            output.push(notFound.join("\n"));
        }
        
        $scope.result="";
        $scope.result=output.join("\n");
      };
    
});
</script>
</body>
</html>